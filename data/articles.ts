import { Article } from '../types/articleTypes';

export const ARTICLES: Article[] = [
    {
        slug: 'ultimate-guide-commercial-roof-maintenance',
        title: 'The Ultimate Guide to Commercial Roof Maintenance in 2025',
        excerpt:
            'Learn the essential strategies for extending your commercial roof\'s lifespan by up to 50%. From seasonal inspections to preventive coating systems, discover the maintenance framework trusted by Fortune 500 facility managers.',
        content: `
      <h2 id="why-maintenance-matters">Why Preventive Maintenance Matters</h2>
      <p>A commercial roof represents one of the largest capital investments in any facility. Yet many building owners neglect routine maintenance until a costly emergency forces their hand. Studies show that every $1 spent on preventive maintenance saves $4-$8 in premature replacement costs.</p>
      <p>At D. C. Taylor Co., our 75 years of experience have taught us that roofs fail not because of age alone, but because of deferred maintenance. Regular inspections and timely repairs can extend a roof's service life by 10-15 years beyond its warranty period.</p>

      <h2 id="seasonal-inspection-schedule">Seasonal Inspection Schedule</h2>
      <p>The most effective maintenance programs follow a rigorous seasonal schedule. Each season brings unique challenges that require specific attention.</p>
      <h3 id="spring-assessment">Spring Assessment</h3>
      <p>After winter's harsh conditions, spring is the ideal time for a thorough evaluation. Look for membrane damage from freeze-thaw cycles, inspect all flashings and penetrations, clear debris from drains and gutters, and check for ponding water that may have formed due to structural shifts.</p>
      <h3 id="fall-preparation">Fall Preparation</h3>
      <p>Before winter arrives, ensure your roof is fortified. Seal any discovered penetrations, verify insulation integrity with infrared scanning, confirm all drainage systems are functioning, and secure any loose equipment or components on the roof surface.</p>

      <h2 id="coating-systems">Protective Coating Systems</h2>
      <p>Modern reflective coatings have revolutionized roof maintenance. A properly applied silicone or acrylic coating can reduce surface temperatures by up to 60°F, dramatically decreasing thermal cycling stress on the membrane. This translates directly to extended service life and reduced energy costs — often 15-25% savings on cooling.</p>

      <h2 id="documentation-technology">Documentation & Technology</h2>
      <p>Digital documentation has transformed how facility managers track roof conditions. Drone-based inspections with thermal imaging can identify moisture intrusion invisible to the naked eye. GPS-tagged condition reports create a historical record that supports accurate capital budget forecasting.</p>
      <p>D. C. Taylor Co. provides all clients with digital access to their complete roof portfolio documentation, enabling data-driven decisions about repair versus replacement timing.</p>

      <h2 id="cost-benefit-analysis">Cost-Benefit Analysis</h2>
      <p>The numbers consistently tell the same story: preventive maintenance programs that cost $0.14-$0.25 per square foot annually prevent replacements that cost $8-$15 per square foot. For a 100,000 sq ft facility, that's a potential savings of $800,000 to $1.5 million over the roof's lifecycle.</p>
    `,
        author: {
            name: 'James Mitchell',
            role: 'Director of Technical Services',
        },
        date: '2025-01-15',
        category: 'Maintenance',
        tags: ['roof maintenance', 'preventive care', 'commercial roofing', 'cost savings'],
        image: 'https://images.unsplash.com/photo-1504307651254-35680f356dfd?auto=format&fit=crop&q=80&w=1200',
        readTime: 8,
    },
    {
        slug: 'fall-protection-compliance-osha-2025',
        title: 'Fall Protection Compliance: What Every Facility Manager Must Know in 2025',
        excerpt:
            'OSHA\'s updated fall protection standards carry penalties up to $156,259 per violation. Learn how to ensure your facility meets current requirements and why fall protection is the #1 cited OSHA violation in commercial construction.',
        content: `
      <h2 id="osha-landscape">The Current OSHA Landscape</h2>
      <p>Fall protection violations remain the most frequently cited OSHA standard year after year. In 2024, OSHA issued over 7,200 fall protection citations in the construction industry alone. With maximum penalties now exceeding $156,000 per willful violation, compliance isn't just a safety issue — it's a financial imperative.</p>

      <h2 id="common-violations">Most Common Violations on Commercial Roofs</h2>
      <p>Our safety audits consistently reveal the same recurring issues across commercial facilities. Understanding these common violations is the first step toward compliance.</p>
      <h3 id="guardrail-deficiencies">Guardrail System Deficiencies</h3>
      <p>Many existing guardrail systems were installed years ago and no longer meet current OSHA specifications for height, strength, or spacing. The standard requires top rails at 42 inches (±3 inches), mid-rails at 21 inches, and systems capable of withstanding 200 pounds of force applied in any direction.</p>
      <h3 id="skylight-hazards">Unprotected Skylight Openings</h3>
      <p>Skylights are one of the most dangerous and overlooked fall hazards on commercial roofs. Every skylight opening must be guarded by a standard skylight screen or guardrail system capable of supporting at least 200 pounds.</p>

      <h2 id="engineered-solutions">Engineered Fall Protection Solutions</h2>
      <p>Modern fall protection goes far beyond simple guardrails. Engineered systems include horizontal lifelines, anchor points strategically positioned for maximum coverage, self-retracting lifelines, and warning line systems for low-slope applications. D. C. Taylor Co. designs custom fall protection systems that integrate seamlessly with your roof architecture.</p>

      <h2 id="training-requirements">Training Requirements</h2>
      <p>OSHA requires that all employees exposed to fall hazards receive training from a competent person. This training must cover the nature of fall hazards, correct procedures for erecting and maintaining fall protection systems, and the proper use, inspection, and storage of personal fall protection equipment.</p>

      <h2 id="audit-checklist">Self-Audit Checklist</h2>
      <p>Use this checklist to evaluate your facility's fall protection compliance: Are all roof edges within 6 feet of work areas protected? Are all skylights guarded or screened? Are anchor points certified and inspected annually? Are all workers trained and training records documented? Is there a written fall protection plan for your facility?</p>
    `,
        author: {
            name: 'Sarah Reynolds',
            role: 'Safety Compliance Manager',
        },
        date: '2025-02-01',
        category: 'Safety',
        tags: ['fall protection', 'OSHA compliance', 'safety', 'facility management'],
        image: 'https://images.unsplash.com/photo-1504307651254-35680f356dfd?auto=format&fit=crop&q=80&w=1200',
        readTime: 6,
    },
    {
        slug: 'drone-infrared-roof-inspections-future',
        title: 'How Drone & Infrared Technology Is Transforming Roof Inspections',
        excerpt:
            'Drone-mounted thermal imaging can detect moisture trapped beneath your roof membrane that\'s invisible to the naked eye. Discover how this technology saves facility managers thousands in unnecessary repairs.',
        content: `
      <h2 id="evolution-of-inspections">The Evolution of Roof Inspections</h2>
      <p>For decades, roof inspections meant a technician walking every square foot of membrane, visually scanning for defects. While experienced inspectors could spot surface-level issues, the biggest threats — trapped moisture, failed insulation, and subsurface membrane deterioration — remained hidden until they caused visible damage.</p>
      <p>Today, drone-mounted infrared cameras have fundamentally changed this equation. A single drone flight can survey 100,000 square feet in under an hour, capturing thermal data that reveals the roof's condition beneath the surface.</p>

      <h2 id="how-infrared-works">How Infrared Thermography Works</h2>
      <p>Infrared roof inspections rely on a simple principle: wet insulation retains heat differently than dry insulation. After the sun sets, areas with trapped moisture release heat more slowly, creating thermal signatures visible to infrared cameras. These temperature differentials — often just 2-5°F — are invisible to the human eye but clearly delineated in thermal imaging.</p>

      <h3 id="optimal-conditions">Optimal Survey Conditions</h3>
      <p>Timing is critical for accurate results. The best conditions include clear skies with minimal wind, surveys conducted 2-4 hours after sunset, ambient temperature differentials of at least 10°F between day and night, and no recent rainfall within 48 hours.</p>

      <h2 id="cost-savings">Documented Cost Savings</h2>
      <p>A recent D. C. Taylor Co. survey of a 250,000 sq ft distribution center revealed that only 15% of the roof membrane required replacement — the rest was in serviceable condition. Without infrared data, the facility manager had been quoted for a full replacement at $2.8 million. The targeted repair cost $420,000, a savings of $2.38 million.</p>

      <h2 id="integration-with-maintenance">Integration with Maintenance Programs</h2>
      <p>The real power of drone inspections emerges when integrated into a comprehensive asset management program. Annual thermal surveys create a baseline condition record that tracks deterioration over time, enabling predictive maintenance scheduling rather than reactive emergency responses.</p>
      <p>D. C. Taylor Co. stores all drone survey data in our digital platform, giving facility managers instant access to historical comparisons, annotated defect maps, and capital planning recommendations.</p>

      <h2 id="future-developments">What's Next: AI-Powered Analysis</h2>
      <p>The next frontier is artificial intelligence applied to thermal imagery. Machine learning algorithms are being trained to automatically identify and classify roof defects from drone data with accuracy rates exceeding 95%. This technology promises to make comprehensive roof surveys faster, more affordable, and more precise than ever before.</p>
    `,
        author: {
            name: 'Michael Chen',
            role: 'Technology & Innovation Lead',
        },
        date: '2025-02-10',
        category: 'Technology',
        tags: ['drone inspections', 'infrared technology', 'roof surveys', 'innovation'],
        image: 'https://images.unsplash.com/photo-1473968512647-3e447244af8f?auto=format&fit=crop&q=80&w=1200',
        readTime: 7,
    },
];

// Helper functions
export function getArticleBySlug(slug: string): Article | undefined {
    return ARTICLES.find((a) => a.slug === slug);
}

export function getArticles(options?: {
    category?: string;
    tag?: string;
    limit?: number;
    offset?: number;
}): Article[] {
    let filtered = [...ARTICLES];

    if (options?.category) {
        filtered = filtered.filter((a) => a.category === options.category);
    }
    if (options?.tag) {
        filtered = filtered.filter((a) => a.tags.includes(options.tag!));
    }

    // Sort by date descending
    filtered.sort((a, b) => new Date(b.date).getTime() - new Date(a.date).getTime());

    const offset = options?.offset || 0;
    const limit = options?.limit || filtered.length;

    return filtered.slice(offset, offset + limit);
}

export function getRelatedArticles(currentSlug: string, limit = 3): Article[] {
    const current = getArticleBySlug(currentSlug);
    if (!current) return [];

    return ARTICLES.filter((a) => a.slug !== currentSlug)
        .map((a) => ({
            article: a,
            score:
                (a.category === current.category ? 3 : 0) +
                a.tags.filter((t) => current.tags.includes(t)).length,
        }))
        .sort((a, b) => b.score - a.score)
        .slice(0, limit)
        .map((r) => r.article);
}

export function getAllCategories(): string[] {
    return [...new Set(ARTICLES.map((a) => a.category))];
}

export function getAllTags(): string[] {
    return [...new Set(ARTICLES.flatMap((a) => a.tags))];
}
